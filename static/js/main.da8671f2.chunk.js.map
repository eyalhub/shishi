{"version":3,"sources":["CustomGrid.js","categories.js","landingImage.js","uploader.js","App.js","index.js"],"names":["CustomGrid","data","url","firstImage","defaultImage","imageUrl","className","map","item","idx","to","title","src","alt","Categories","useState","setData","useEffect","axios","get","then","res","console","log","Promise","resolve","reject","catch","e","backendData","AppBar","UploadImage","navigate","useNavigate","text","setText","image","setImage","errorMessage","setErrorMessage","reset","uploaded","style","display","flexDirection","justifyContent","color","textAlign","URL","createObjectURL","type","id","name","accept","onChange","event","target","files","value","onClick","formData","FormData","append","post","App","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da8671f2.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\n\r\nconst CustomGrid = ({data, url, defaultImage=null}) => {\r\n\r\n    let firstImage = data[0].imageUrl\r\n\r\n\r\n    return (  \r\n        <div className=\"flex\">\r\n            <div className={`custom-grid`}>\r\n                {data.map((item, idx) => (\r\n                    <Link to={`${url}/${item.title}`} key={ idx }>\r\n                        <div className=\"grid-item-preview\">\r\n                            <img src={ item.imageUrl ? item.imageUrl : firstImage } alt=\"not found\" />\r\n                            {item.title && <p>{item.title}</p>}\r\n                        </div>\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default CustomGrid;","import CustomGrid from \"./CustomGrid\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Categories = () => {\r\n    const [data, setData] = useState(null);\r\n    const url = \"https://raw.githubusercontent.com/eyalhub/shishi/main/public/data.json\";\r\n    const backendUrl = \"https://eyalback.herokuapp.com/static/data.json\";\r\n    \r\n\r\n    useEffect(() => {\r\n        axios.get(url).then(res => {\r\n            setData(res.data);\r\n        });\r\n        console.log(\"nice\")\r\n        let promise = new Promise( (resolve, reject) => {\r\n            axios.get(backendUrl).then(res => {\r\n                \r\n                resolve(res.data);\r\n            }).catch(e => {console.log(\"banana\");reject(e);});  \r\n        });\r\n        promise.then(backendData => setData(backendData));\r\n    }, [])\r\n    \r\n\r\n    return (  \r\n        data && <div className=\"categories\">\r\n            <div className=\"title\">\r\n                <p>:קטגוריות</p>\r\n                <Link to={\"/upload\"}><p className=\"upload\"><span>הוספת קטגוריה +</span></p></Link>\r\n            </div>\r\n            <CustomGrid data={data} url={\"/categories\"}/>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Categories;","import { Link } from \"react-router-dom\";\r\n\r\n\r\nconst AppBar = () => {\r\n\r\n    return (  \r\n        <Link to=\"/\">\r\n            <div className=\"appBar\">\r\n                <div className=\"wrapper\">\r\n                    <div className=\"logo\">\r\n                        <p className=\"orangeBox\">אייל</p> \r\n                        <p>שישי</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n            \r\n    );\r\n}\r\n \r\nexport default AppBar;","import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst UploadImage = () => {\r\n    const navigate = useNavigate();\r\n    const [text, setText] = useState(\"\");\r\n    const [image, setImage] = useState(null);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const reset = () => {\r\n        uploaded = false;\r\n        setErrorMessage(\"\");\r\n    }\r\n    let uploaded = false;\r\n\r\n    const uploadHandler = () => { \r\n        if(image !== null && text !== \"\" && !uploaded){\r\n            console.log(\"submit\");\r\n            const formData = new FormData();\r\n            formData.append('image', image);\r\n            formData.append('text', text);\r\n            axios.post('https://eyalback.herokuapp.com/uploadImage',formData);\r\n            uploaded = true;\r\n            navigate(-1);\r\n            \r\n        }\r\n        else{\r\n            setErrorMessage(\"בבקשה תמלא פרטים תקינים\")\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n    return (  \r\n        <div style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\r\n            <p style={{color: \"white\"}}>upload a new photo</p>\r\n            {errorMessage && <h1 style={{color: \"red\", textAlign: \"end\"}}>{errorMessage}</h1>}\r\n            <img className=\"image-preview\" src={ image && URL.createObjectURL(image) } />\r\n            <input\r\n                type=\"file\" \r\n                id=\"img\" \r\n                name=\"img\" \r\n                //accept=\"video/*,image/*\" \r\n                accept=\"image/*\" \r\n                onChange={(event) => {\r\n                    if(event.target.files[0]){\r\n                        setImage(event.target.files[0]);\r\n                        reset();\r\n                    }    \r\n                }} \r\n            />\r\n            <input type=\"text\" onChange={(e) => {reset(); setText(e.target.value)}} />\r\n            <button type=\"submit\" onClick={uploadHandler}>submit</button>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default UploadImage;","import Categories from \"./categories\";\nimport AppBar from \"./landingImage\";\nimport { HashRouter, Routes, Route } from \"react-router-dom\";\nimport UploadImage from \"./uploader\";\n\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route exact  path=\"/\" element={\n          <div>\n            <div className=\"app\">\n            <AppBar />\n            \n            </div>\n            <Categories />\n          </div>   \n        } />\n\n        <Route path=\"/upload\" element={<UploadImage />} />\n            \n      </Routes>\n    </HashRouter>    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}